{% extends 'base.html' %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/viewbooks.css' %}">
<link rel="stylesheet" href="{% static 'css/viewdetail.css' %}">
{% endblock %}

{% block content %}
<div class="view-detail-container">
    <img src="{{ view.image.url }}" alt="{{ view.name }}">

    <div class="view-detail-info">
        <h3 class="book-title">{{ view.name }}</h3>
        <p><span class="detail-label">AUTHOR:</span> 
        <span class="detail-value">{{ view.author }}</span></p>

        <p><span class="detail-label">CATEGORY:</span> 
        <span class="detail-value">{{ view.category }}</span></p>

        <p><span class="detail-label">BOOK NO:</span> 
        <span class="detail-value">{{ view.book_no }}</span></p>

        
       
     {% if request.user.is_superuser %}
    <div class="mt-3">
        {% if view.available_copies > 0 %}
            <p><b>Available Copies:</b> {{ view.available_copies }}</p>
            <a href="{% url 'borrow_book' view.id %}" class="neon-btn warn">
                <span></span><span></span><span></span><span></span>
                <i class="bi bi-pencil-square"></i> BORROW BOOK
            </a>
        {% else %}
            <p class="text-danger"><b>No copies available</b></p>
            <button class="btn btn-secondary" disabled>Borrow Book</button>
        {% endif %}
    </div>
{% endif %}

      </p>

        {% if is_librarian %}
            <p><b>Created:</b> {{ view.created_at|date:"d M Y, h:i A" }}</p>
            <p><b>Updated:</b> {{ view.updated_at|date:"d M Y, h:i A" }}</p>
        {% endif %}





        {% if is_librarian %}
            <a href="{% url 'editbook' view.id %}" class="neon-btn warn">
                <span></span><span></span><span></span><span></span>
                <i class="bi bi-pencil-square"></i> EDIT
            </a>
            <a href="{% url 'deletebook' view.id %}" class="neon-btn danger">
            <span></span><span></span><span></span><span></span>
            <i class="bi bi-trash"></i> DELETE
            </a>

        {% endif %}
    </div>

    </div>
</div>
{% endblock %}
